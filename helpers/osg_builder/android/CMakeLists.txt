CMAKE_MINIMUM_REQUIRED(VERSION 2.8.0 FATAL_ERROR)

# Specify critical OpenSceneGraph build variables.
SET(BUILD_OSG_APPLICATIONS NO CACHE BOOL "Do not build applications")
SET(EGL_LIBRARY "GL" CACHE STRING "Suppress linkage error")
SET(OPENGL_PROFILE "GLES2" CACHE STRING "OpenGL Profile to use")
SET(OSG_GL1_AVAILABLE OFF CACHE BOOL "Unavailable under Android")
SET(OSG_GL2_AVAILABLE OFF CACHE BOOL "Unavailable under Android")
SET(OSG_GLES2_AVAILABLE ON CACHE BOOL "GLES2 is what Android uses")
SET(OSG_WINDOWING_SYSTEM "None" CACHE STRING "Unavailable under Android")
SET(OSG_FIND_3RD_PARTY_DEPS OFF CACHE BOOL "Disable for searching dependencies in ./3rdparty")
SET(DYNAMIC_OPENTHREADS OFF CACHE BOOL "Link OpenThreads statically")
SET(DYNAMIC_OPENSCENEGRAPH OFF CACHE BOOL "Link OpenSceneGraph statically")

# Prevent CMake configuration error.
SET(_OPENTHREADS_ATOMIC_USE_GCC_BUILTINS_EXITCODE "0" CACHE STRING "Prevent cfg error")

INCLUDE_DIRECTORIES(${OSG_SOURCE_DIR}/include)
INCLUDE_DIRECTORIES(${OSG_BUILD_DIR}/include)
LINK_DIRECTORIES(${OSG_BUILD_DIR}/lib)

FILE(MAKE_DIRECTORY ${OSG_BUILD_DIR})
ADD_SUBDIRECTORY(${OSG_SOURCE_DIR} ${OSG_BUILD_DIR})
